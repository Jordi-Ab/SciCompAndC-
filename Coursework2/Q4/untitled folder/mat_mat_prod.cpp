//==========================================================================================
//Gareth Calvert - 4265464 - University of Nottingham - 2016/2017
//==========================================================================================

double **allocate_matrix(int n, int m);
void deallocate_matrix(int n, double **A);

void mat_mat_prod(int n, double** A, double** B)
{
    double** AB;
    AB = allocate_matrix(n, n);
    
    //==========================================================================================
    //This loop calculates the dot product of two matrices
    //==========================================================================================
    for(int i = 0; i < n; i++)
    {
        for(int j = 0; j < n; j++)
        {
            for(int k = 0; k < n; k++)
            {
                AB[i][j] += A[i][k] * B[k][j];
            }
            
        }
    
    }
    //==========================================================================================
    //This loop copies the AB matrix into the B matrix as AB will be deleted.
    //==========================================================================================

    for (int i=0; i<n; i++)
    {
        for (int j=0; j<n; j++)
        {
            B[i][j] = AB[i][j];
        }
    }

    //==========================================================================================
    //Delete AB as results are stored in B
    //==========================================================================================
    deallocate_matrix(n, AB);

}

